<shared-loading-page *ngIf="isLoading"></shared-loading-page>

<div class="flex justify-between items-center mb-8 mt-4">
  <button mat-stroked-button class="btn-info w-36" (click)="goBack()">
    ← Regresar
  </button>
</div>

<h2 class="text-2xl text-center md:w-full mb-10">
  {{ isEditMode ? 'Editar Producto' : 'Alta de Producto' }}
</h2>


<form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="grid grid-cols-1 md:grid-cols-3 gap-2">
  <mat-form-field appearance="fill" class="h-17 mat-input-sm">
    <mat-label>Nombre del Producto</mat-label>
    <input matInput formControlName="productName" required />
    <mat-error *ngIf="isValidField('productName')">
        El nombre del producto es obligatorio
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="h-17 mat-input-sm">
    <mat-label>Descripción</mat-label>
    <input matInput formControlName="description" />
  </mat-form-field>

  <mat-form-field appearance="fill" class="h-17 mat-input-sm">
    <mat-label>Código de Barras</mat-label>
    <input matInput formControlName="barcode" />
  </mat-form-field>

    <mat-form-field appearance="fill" class="h-17 mat-input-sm">
    <mat-label>Precio a Público</mat-label>
    <span matPrefix> &nbsp;$&nbsp;</span>
    <input matInput type="number" formControlName="price" required />
    <mat-error *ngIf="isValidField('price')">
      El precio es requerido
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="h-17 mat-input-sm">
    <mat-label>Unidad</mat-label>
    <input matInput formControlName="unit" />
  </mat-form-field>

  <div class="md:col-span-3 flex justify-center mt-10">
    <button mat-raised-button class="btn-success" type="submit">
      {{ isEditMode ? 'Actualizar Producto' : 'Registrar Producto' }}
    </button>
  </div>
</form>
